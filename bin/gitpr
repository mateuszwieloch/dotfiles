#!/usr/bin/env ruby

# Go to PR request page for current branch.
# *NOTE* This anticipates that the remote branch has the same naming.

file = File.read(".git/config")
repo = file.split("\n").detect { |line| line.match(/url\s=\s*/) }
uri = repo.match(/url\s=\s.*(github.*).git/)[1].gsub(":", "/")

branch = `git rev-parse --abbrev-ref HEAD`.chomp

`open "https://#{uri}/compare/#{branch}?expand=1"`
